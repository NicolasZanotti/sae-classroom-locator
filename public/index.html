<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SAE Classroom Locator</title>
    <script defer src="/__/firebase/7.15.5/firebase-app.js"></script>
    <script defer src="/__/firebase/7.15.5/firebase-firestore.js"></script>
    <script defer src="/__/firebase/init.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div class="sae-container">
            <img class="logo" src="https://infoscreen.sae.ch/img/SAE_Logo_white.png" alt="SAE LOGO">
            <img class="sae-icons" src="https://infoscreen.sae.ch/img/sae_icons.png" alt="SAE Icons">
        </div>
        <span class="datetime">3.7.2020 16:41:25</span>
    </header>
    <main>
        <h1>Unterrichte</h1>
        <div class="divider"></div>
        <h2 class="floor">EG</h2>
        <div class="tiles-container">
            <article class="tile tile-yellow">
                <div class="tile-upper-part">
                    <div class="logo-container">
                        <img src="https://infoscreen.sae.ch/img/SAE_Logo_white.png" alt="Logo">
                    </div>
                    <h3 class="class-title">BA 0320 & BG0320</h3>
                </div>
                <div class="tile-middle-part">
                    <span class="time">14:00 – 17:00</span>
                    <span class="room">· Albis</span>
                </div>
                <div class="tile-lower-part">
                    <span class="description">BWL Grundlagen / Lokale Situationsanalyse - (on Campus) · Dimitri
                        Tirez</span>
                </div>
            </article>
            <article class="tile tile-blue">
                <div class="tile-upper-part">
                    <div class="logo-container">
                        <img src="https://infoscreen.sae.ch/img/SAE_Logo_white.png" alt="Logo">
                    </div>
                    <h3 class="class-title">BA 0320 & BG0320</h3>
                </div>
                <div class="tile-middle-part">
                    <span class="time">14:00 – 17:00</span>
                    <span class="room">· Albis</span>
                </div>
                <div class="tile-lower-part">
                    <span class="description">BWL Grundlagen / Lokale Situationsanalyse - (on Campus) · Dimitri
                        Tirez</span>
                </div>
            </article>
            <article class="tile tile-red">
                <div class="tile-upper-part">
                    <div class="logo-container">
                        <img src="https://infoscreen.sae.ch/img/SAE_Logo_white.png" alt="Logo">
                    </div>
                    <h3 class="class-title">BA 0320 & BG0320</h3>
                </div>
                <div class="tile-middle-part">
                    <span class="time">14:00 – 17:00</span>
                    <span class="room">· Albis</span>
                </div>
                <div class="tile-lower-part">
                    <span class="description">BWL Grundlagen / Lokale Situationsanalyse - (on Campus) · Dimitri
                        Tirez</span>
                </div>
            </article>
        </div>
        <h2 class="floor">1. OG</h2>
        <div class="tiles-container">
            <article class="tile tile-yellow">
                <div class="tile-upper-part">
                    <div class="logo-container">
                        <img src="https://infoscreen.sae.ch/img/SAE_Logo_white.png" alt="Logo">
                    </div>
                    <h3 class="class-title">BA 0320 & BG0320</h3>
                </div>
                <div class="tile-middle-part">
                    <span class="time">14:00 – 17:00</span>
                    <span class="room">· Albis</span>
                </div>
                <div class="tile-lower-part">
                    <span class="description">BWL Grundlagen / Lokale Situationsanalyse - (on Campus) · Dimitri
                        Tirez</span>
                </div>
            </article>
            <article class="tile tile-blue">
                <div class="tile-upper-part">
                    <div class="logo-container">
                        <img src="https://infoscreen.sae.ch/img/SAE_Logo_white.png" alt="Logo">
                    </div>
                    <h3 class="class-title">BA 0320 & BG0320</h3>
                </div>
                <div class="tile-middle-part">
                    <span class="time">14:00 – 17:00</span>
                    <span class="room">· Albis</span>
                </div>
                <div class="tile-lower-part">
                    <span class="description">BWL Grundlagen / Lokale Situationsanalyse - (on Campus) · Dimitri
                        Tirez</span>
                </div>
            </article>
            <article class="tile tile-red">
                <div class="tile-upper-part">
                    <div class="logo-container">
                        <img src="https://infoscreen.sae.ch/img/SAE_Logo_white.png" alt="Logo">
                    </div>
                    <h3 class="class-title">BA 0320 & BG0320</h3>
                </div>
                <div class="tile-middle-part">
                    <span class="time">14:00 – 17:00</span>
                    <span class="room">· Albis</span>
                </div>
                <div class="tile-lower-part">
                    <span class="description">BWL Grundlagen / Lokale Situationsanalyse - (on Campus) · Dimitri
                        Tirez</span>
                </div>
            </article>
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const app = firebase.app();
            const db = firebase.firestore();

            if (location.hostname === "localhost") {
                db.settings({
                    host: "localhost:8080",
                    ssl: false
                })
            }

            const doc = db.collection("room").doc("OxpGXmBTZA4Ir33hivB3");
            doc.get()
                .then(
                    doc => console.log("doc: ", doc.data())
                )
                .catch(
                    error => console.error(error)
                )

            doc.onSnapshot(
                doc => console.log("snapshot: ", doc.data())
            )

            const query = db.collection("room").where('floor', '==', 0);
            query.get()
                .then(
                    roomsOnFloor => roomsOnFloor.forEach(room => {
                        console.log("each: ", room.data().name)
                    })
                )
                .catch(
                    error => console.error(error)
                )
        });
    </script>
</body>

</html>